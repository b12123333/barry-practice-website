{"version":3,"file":"js/CartList.ae626aa0.js","mappings":"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","sources":["webpack://barry/./src/effect/cartEffects.js","webpack://barry/./src/views/cartList/CartList.vue","webpack://barry/./src/views/cartList/cartListcontent.vue","webpack://barry/./src/views/cartList/cartListcontent.vue?71dc","webpack://barry/./src/views/cartList/CartList.vue?ff89","webpack://barry/./src/views/home/Docker .vue","webpack://barry/./src/views/home/Docker .vue?d294"],"sourcesContent":["import { useStore } from 'vuex'\r\nimport { computed } from 'vue'\r\n// 列表商品點擊邏輯\r\nexport const useCommonCartEffect = (shopId) => {\r\n  const store = useStore()\r\n  const cartList = store.state.cartList\r\n  const changeCartItemInfo = (shopId, productId, productInfo, num) => {\r\n    store.commit('changeCartItemInfo', {\r\n      shopId, productId, productInfo, num\r\n    })\r\n  }\r\n  const productList = computed(() => {\r\n    const productList = cartList[shopId]?.productList || {}\r\n    const notEmptyProductList = {}\r\n    for (const i in productList) {\r\n      const product = productList[i]\r\n      if (product.count > 0) {\r\n        notEmptyProductList[i] = product\r\n      }\r\n    }\r\n    return notEmptyProductList\r\n  })\r\n\r\n  const shopName = computed(() => {\r\n    const shopName = cartList[shopId]?.shopName || ''\r\n    return shopName\r\n  })\r\n  const calculations = computed(() => {\r\n    const productList = cartList[shopId]?.productList\r\n    const result = { total: 0, price: 0, allChecked: true }\r\n    if (productList) {\r\n      for (const i in productList) {\r\n        const product = productList[i]\r\n        result.total += product.count\r\n        if (product.check) {\r\n          result.price += (product.count * product.price)\r\n        }\r\n        if (product.count > 0 && !product.check) {\r\n          result.allChecked = false\r\n        }\r\n      }\r\n    }\r\n    result.price = result.price.toFixed(2)\r\n    return result\r\n  })\r\n  return { shopName, cartList, changeCartItemInfo, productList, calculations }\r\n}\r\n","<template>\n  <div class=\"cart\">我的全部購物車</div>\n  <div class=\"wrapper\">\n    <Content :shopId=\"1\"/>\n    <Content :shopId=\"2\"/>\n  </div>\n  <Docker :currentIndex=\"1\" />\n</template>\n\n<script>\nimport Docker from '../home/Docker '\nimport Content from './cartListcontent'\n\nexport default {\n  name: 'CartList',\n  components: { Docker, Content }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.cart {\n  margin-top: .1rem;\n  text-align: center;\n  font-size: .2rem;\n  background: #fff;\n}\n.wrapper{\n  overflow-y:auto;\n  position:absolute;\n  left:0;\n  top:.5rem;\n  bottom:.5rem ;\n  right:0;\n  padding:0 .18rem;\n  background: rgb(248, 248,248);\n  z-index: -1;\n}\n\n</style>\n","<template>\r\n    <div class=\"products\" v-if=\"titleShow\">\r\n        <div class=\"products__title\">\r\n            {{ shopName }}\r\n        </div>\r\n        <div class=\"products__wrapper\">\r\n            <div class=\"products__list\">\r\n                <template v-for=\"item in productList\" :key=\"item._id\">\r\n                    <div class=\"product__item\">\r\n                        <img class=\"product__item__img\" :src=\"item.imgUrl\">\r\n                        <div class=\"product__item__detail\">\r\n                            <h4 class=\"product__item__title\">{{ item.name }}</h4>\r\n                            <p class=\"product__item__price\">\r\n                                <span class=\"product__item__yen\">&yen;{{ item.price }} x {{ item.count }}</span>\r\n                                <span class=\"product__item__total\">\r\n                                    <span class=\"product__item__yen\">&yen;</span>\r\n                                    {{ (item.price * item.count).toFixed(2) }}\r\n                                </span>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { useCommonCartEffect } from '../../effect/cartEffects'\r\nimport { ref } from 'vue'\r\n\r\nexport default {\r\n  name: 'cartListcontent',\r\n  props: ['shopId'],\r\n  setup (props) {\r\n    const { shopName, productList } = useCommonCartEffect(props.shopId)\r\n    console.log(JSON.stringify(productList.value) === '{}')\r\n    const titleShow = ref(false)\r\n    if (JSON.stringify(productList.value) === '{}') {\r\n      titleShow.value = false\r\n    } else {\r\n      titleShow.value = true\r\n    }\r\n    return { shopName, productList, titleShow }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.products {\r\n    margin: .16rem .18rem .55rem .18rem;\r\n    background: #FFF;\r\n    &__title {\r\n      padding: .16rem;\r\n      font-size: .16rem;\r\n      color: #333;\r\n    }\r\n    &__wrapper {\r\n        overflow-y:scroll;\r\n        margin: 0 .05rem;\r\n        position: relative;\r\n    }\r\n    &__list {\r\n        background:#FFF;\r\n    }\r\n}\r\n\r\n.product {\r\n    &__item {\r\n        position: relative;\r\n        display: flex;\r\n        padding: 0 .16rem .16rem .16rem;\r\n        &__detail {\r\n            flex: 1;\r\n        }\r\n\r\n        &__img {\r\n            width: .46rem;\r\n            height: .46rem;\r\n            margin-right: .16rem;\r\n        }\r\n\r\n        &__title {\r\n            line-height: .2rem;\r\n            font-size: .14rem;\r\n            color: #333;\r\n            margin: 0;\r\n            overflow: hidden;\r\n            white-space: nowrap;\r\n            text-overflow: ellipsis;\r\n        }\r\n\r\n        &__price {\r\n            display: flex;\r\n            margin: .06rem 0 0 0;\r\n            font-size: .14rem;\r\n            color: #000;\r\n            line-height: .2rem;\r\n        }\r\n\r\n        &__total {\r\n            flex: 1;\r\n            text-align: right;\r\n            color: #E93B3B;\r\n        }\r\n\r\n        &__yen {\r\n            font-size: .12rem;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./cartListcontent.vue?vue&type=template&id=4fc9d767&scoped=true\"\nimport script from \"./cartListcontent.vue?vue&type=script&lang=js\"\nexport * from \"./cartListcontent.vue?vue&type=script&lang=js\"\n\nimport \"./cartListcontent.vue?vue&type=style&index=0&id=4fc9d767&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\user0001\\\\Desktop\\\\barry\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4fc9d767\"]])\n\nexport default __exports__","import { render } from \"./CartList.vue?vue&type=template&id=777d113e&scoped=true\"\nimport script from \"./CartList.vue?vue&type=script&lang=js\"\nexport * from \"./CartList.vue?vue&type=script&lang=js\"\n\nimport \"./CartList.vue?vue&type=style&index=0&id=777d113e&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\user0001\\\\Desktop\\\\barry\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-777d113e\"]])\n\nexport default __exports__","\r\n<template>\r\n  <div class=\"docker\">\r\n    <span\r\n    v-for=\"( item, index ) in dockerList\"\r\n    :key=\"item.icon\"\r\n    :class=\"{'docker__item':true, 'docker__item--active':index===currentIndex}\"\r\n    >\r\n      <router-link :to=\"item.to\">\r\n        <div :class=\"item.icon\"></div>\r\n        <div class=\"docker__title\">{{item.text}}</div>\r\n      </router-link>\r\n    </span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AppDocker',\r\n  props: ['currentIndex'],\r\n  data () {\r\n    const dockerList = [\r\n      { icon: 'icofont-home', text: '首頁', to: { name: 'home' } },\r\n      { icon: 'icofont-shopping-cart', text: '購物車', to: { name: 'CartList' } },\r\n      { icon: 'icofont-file-text', text: '訂單', to: { name: 'orderList' } },\r\n      { icon: 'icofont-user', text: '我的帳戶', to: { name: 'home' } }\r\n    ]\r\n    return { dockerList }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scpoed>\r\n@mixin icon{\r\n  font-size:.2rem;\r\n  margin:0.07rem 0 0.02rem 0;\r\n}\r\n.docker{\r\n  color: #333;\r\n  display:flex;\r\n  position:absolute;\r\n  box-sizing:border-box;\r\n  padding: 0 .18rem;\r\n  left:0;\r\n  bottom:0;\r\n  width: 100%;\r\n  height: 0.49rem;\r\n  border-top: .01rem solid #F1F1F1;\r\n  &__title{\r\n      font-size:.2rem;\r\n      transform:scale(.5);\r\n      transform-origin:center top;\r\n  }\r\n  &__item{\r\n    flex:1;\r\n    text-align: center;\r\n    a {\r\n      color:#333;\r\n      text-decoration: none;\r\n    }\r\n    .icofont-home {\r\n      @include icon;\r\n    }\r\n    .icofont-shopping-cart{\r\n      @include icon;\r\n    }\r\n    .icofont-file-text{\r\n      @include icon;\r\n    }\r\n    .icofont-user{\r\n      @include icon;\r\n    }\r\n  }\r\n  &__item--active{\r\n    a {\r\n      color:#1FA4FC;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Docker .vue?vue&type=template&id=3e701022\"\nimport script from \"./Docker .vue?vue&type=script&lang=js\"\nexport * from \"./Docker .vue?vue&type=script&lang=js\"\n\nimport \"./Docker .vue?vue&type=style&index=0&id=3e701022&lang=scss&scpoed=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\user0001\\\\Desktop\\\\barry\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["useCommonCartEffect","shopId","store","useStore","cartList","state","changeCartItemInfo","productId","productInfo","num","commit","productList","computed","notEmptyProductList","i","product","count","shopName","calculations","result","total","price","allChecked","check","toFixed","_createElementVNode","class","_hoisted_1","_createVNode","_component_Content","_component_Docker","currentIndex","$setup","_createElementBlock","_toDisplayString","_Fragment","_renderList","item","_id","src","imgUrl","name","_hoisted_11","props","setup","console","log","JSON","stringify","value","titleShow","ref","__exports__","components","Docker","Content","render","$data","index","key","icon","$props","_component_router_link","to","text","data","dockerList"],"sourceRoot":""}