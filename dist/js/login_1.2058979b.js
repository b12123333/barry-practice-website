"use strict";(self["webpackChunkbarry"]=self["webpackChunkbarry"]||[]).push([[687],{6442:function(a,e,s){s.r(e),s.d(e,{default:function(){return v}});var r=s(6252),t=s(9963);const o=a=>((0,r.dD)("data-v-6fb5e317"),a=a(),(0,r.Cn)(),a),n={class:"wrapper"},l=o((()=>(0,r._)("img",{class:"wrapper__img",src:"http://www.dell-lee.com/imgs/vue3/user.png"},null,-1))),p={class:"wrapper__input"},u={class:"wrapper__input"},c=o((()=>(0,r._)("div",{class:"wrapper__login-link"},"立即註冊",-1)));function d(a,e,s,o,d,w){const i=(0,r.up)("router-link"),_=(0,r.up)("a-alert");return(0,r.wg)(),(0,r.iD)("div",n,[l,(0,r._)("div",p,[(0,r.wy)((0,r._)("input",{class:"wrapper__input__content",placeholder:"用戶名","onUpdate:modelValue":e[0]||(e[0]=a=>d.data.username=a)},null,512),[[t.nr,d.data.username]])]),(0,r._)("div",u,[(0,r.wy)((0,r._)("input",{class:"wrapper__input__content",placeholder:"請輸入密碼",type:"password","onUpdate:modelValue":e[1]||(e[1]=a=>d.data.password=a),autocomplete:"new-password"},null,512),[[t.nr,d.data.password]])]),(0,r._)("div",{class:"wrapper__login-button",onClick:e[2]||(e[2]=(...a)=>d.handlelogin&&d.handlelogin(...a))},"登入"),(0,r.Wm)(i,{to:"/register"},{default:(0,r.w5)((()=>[c])),_:1}),d.data.showToastaccount?((0,r.wg)(),(0,r.j4)(_,{key:0,class:"alert",message:"帳號密碼錯誤",type:"error"})):(0,r.kq)("",!0),d.data.showToasturl?((0,r.wg)(),(0,r.j4)(_,{key:1,class:"alert",message:"請求失敗",type:"error"})):(0,r.kq)("",!0)])}var w=s(2119),i=s(2262),_=s(4471),h={name:"App-login",data(){const a=(0,w.tv)(),e=(0,i.qj)({username:"",password:"",showToastaccount:!1,showToasturl:!1}),s=async()=>{try{const s=await(0,_.v)("/api/user/login",{username:e.username,password:e.password});0===s.errno?(window.localStorage.isLogin=!0,a.push({name:"home"})):(e.showToastaccount=!0,setTimeout((()=>{e.showToastaccount=!1}),2e3))}catch(s){e.showToasturl=!0,setTimeout((()=>{e.showToasturl=!1}),2e3)}};return{handlelogin:s,data:e}}},m=s(3744);const g=(0,m.Z)(h,[["render",d],["__scopeId","data-v-6fb5e317"]]);var v=g}}]);
//# sourceMappingURL=login_1.2058979b.js.map