{"version":3,"file":"js/orderList.202bda8f.js","mappings":"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","sources":["webpack://barry/./src/views/home/Docker .vue","webpack://barry/./src/views/home/Docker .vue?d294","webpack://barry/./src/views/orderList/orderList.vue","webpack://barry/./src/views/orderList/orderList.vue?1ad7"],"sourcesContent":["\r\n<template>\r\n  <div class=\"docker\">\r\n    <span\r\n    v-for=\"( item, index ) in dockerList\"\r\n    :key=\"item.icon\"\r\n    :class=\"{'docker__item':true, 'docker__item--active':index===currentIndex}\"\r\n    >\r\n      <router-link :to=\"item.to\">\r\n        <div :class=\"item.icon\"></div>\r\n        <div class=\"docker__title\">{{item.text}}</div>\r\n      </router-link>\r\n    </span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AppDocker',\r\n  props: ['currentIndex'],\r\n  data () {\r\n    const dockerList = [\r\n      { icon: 'icofont-home', text: '首頁', to: { name: 'home' } },\r\n      { icon: 'icofont-shopping-cart', text: '購物車', to: { name: 'CartList' } },\r\n      { icon: 'icofont-file-text', text: '訂單', to: { name: 'orderList' } },\r\n      { icon: 'icofont-user', text: '我的帳戶', to: { name: 'home' } }\r\n    ]\r\n    return { dockerList }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scpoed>\r\n@mixin icon{\r\n  font-size:.2rem;\r\n  margin:0.07rem 0 0.02rem 0;\r\n}\r\n.docker{\r\n  color: #333;\r\n  display:flex;\r\n  position:absolute;\r\n  box-sizing:border-box;\r\n  padding: 0 .18rem;\r\n  left:0;\r\n  bottom:0;\r\n  width: 100%;\r\n  height: 0.49rem;\r\n  border-top: .01rem solid #F1F1F1;\r\n  &__title{\r\n      font-size:.2rem;\r\n      transform:scale(.5);\r\n      transform-origin:center top;\r\n  }\r\n  &__item{\r\n    flex:1;\r\n    text-align: center;\r\n    a {\r\n      color:#333;\r\n      text-decoration: none;\r\n    }\r\n    .icofont-home {\r\n      @include icon;\r\n    }\r\n    .icofont-shopping-cart{\r\n      @include icon;\r\n    }\r\n    .icofont-file-text{\r\n      @include icon;\r\n    }\r\n    .icofont-user{\r\n      @include icon;\r\n    }\r\n  }\r\n  &__item--active{\r\n    a {\r\n      color:#1FA4FC;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Docker .vue?vue&type=template&id=3e701022\"\nimport script from \"./Docker .vue?vue&type=script&lang=js\"\nexport * from \"./Docker .vue?vue&type=script&lang=js\"\n\nimport \"./Docker .vue?vue&type=style&index=0&id=3e701022&lang=scss&scpoed=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\user0001\\\\Desktop\\\\barry\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"title\">我的訂單</div>\r\n    <div class=\"orders\">\r\n      <div\r\n       class=\"order\"\r\n       v-for=\"(item, index) in list\"\r\n       :key=\"index\">\r\n        <div class=\"order__title\">\r\n            {{item.shopName}}\r\n            <span class=\"order__status\">{{item.isCanceled ? '已取消' : '已下單'}}</span>\r\n        </div>\r\n        <div class=\"order__content\">\r\n            <div class=\"order__content__imgs\">\r\n                <template\r\n                  v-for=\"(innerItem, innerIndex) in item.products\"\r\n                  :key=\"innerIndex\">\r\n                  <img\r\n                    class=\"order__content__img\"\r\n                    :src=\"innerItem.product.img\"\r\n                    v-if=\"innerIndex <= 3\"/>\r\n                </template>\r\n            </div>\r\n            <div class=\"order__info\">\r\n                <div class=\"order__info__price\">¥ {{item.totalPrice}}</div>\r\n                <div class=\"order__info__count\">共 {{item.totalNumber}} 件</div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <Docker :currentIndex=\"2\"/>\r\n</template>\r\n<script>\r\nimport Docker from '../home/Docker '\r\nimport { reactive, toRefs } from 'vue'\r\nimport { get } from '../../utils/request'\r\n\r\nconst useOrderListEffect = () => {\r\n  const data = reactive({ list: [] })\r\n  const getNearbyList = async () => {\r\n    const result = await get('/api/order')\r\n    if (result?.errno === 0 && result?.data?.length) {\r\n      const orderList = result.data\r\n      orderList.forEach((order) => {\r\n        const products = order.products || []\r\n        let totalPrice = 0\r\n        let totalNumber = 0\r\n        products.forEach((productItem) => {\r\n          totalNumber += (productItem?.orderSales || 0)\r\n          totalPrice += ((productItem?.product?.price * productItem?.orderSales) || 0)\r\n        })\r\n        order.totalPrice = totalPrice\r\n        order.totalNumber = totalNumber\r\n      })\r\n      data.list = result.data\r\n    }\r\n  }\r\n  getNearbyList()\r\n  const { list } = toRefs(data)\r\n  return { list }\r\n}\r\n\r\nexport default {\r\n  name: 'orderList',\r\n  components: { Docker },\r\n  setup () {\r\n    const { list } = useOrderListEffect()\r\n    return { list }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wrapper{\r\n  overflow-y:auto;\r\n  position:absolute;\r\n  left:0;\r\n  top:0;\r\n  bottom:.5rem ;\r\n  right:0;\r\n  padding:0 .18rem;\r\n  background: rgb(248, 248,248);\r\n}\r\n.title {\r\n  line-height: .44rem;\r\n  background: #fff;\r\n  color: #333;\r\n  font-size: .16rem;\r\n  text-align: center;\r\n}\r\n.order {\r\n  margin: .16rem .18rem;\r\n  padding: .16rem;\r\n  background: #fff;\r\n  &__title {\r\n    margin-bottom: .16rem;\r\n    line-height: .22rem;\r\n    font-size: .16rem;\r\n    color: #333;\r\n  }\r\n  &__status {\r\n    float: right;\r\n    font-size: .14rem;\r\n    color: #E93B3B;\r\n  }\r\n  &__content {\r\n    display: flex;\r\n    &__imgs {\r\n      flex: 1;\r\n    }\r\n    &__img {\r\n      width: .4rem;\r\n      height: .4rem;\r\n      margin-right: .12rem;\r\n    }\r\n  }\r\n  &__info {\r\n    width: .7rem;\r\n    &__price {\r\n      margin-bottom: .04rem;\r\n      line-height: .2rem;\r\n      font-size: .14rem;\r\n      color: #E93B3B;\r\n      text-align: right;\r\n      }\r\n    &__count {\r\n      line-height: .14rem;\r\n      font-size: .12rem;\r\n      color: #333;\r\n      text-align: right;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import { render } from \"./orderList.vue?vue&type=template&id=f86c68f8&scoped=true\"\nimport script from \"./orderList.vue?vue&type=script&lang=js\"\nexport * from \"./orderList.vue?vue&type=script&lang=js\"\n\nimport \"./orderList.vue?vue&type=style&index=0&id=f86c68f8&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\user0001\\\\Desktop\\\\barry\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f86c68f8\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_Fragment","_renderList","$data","item","index","key","icon","$props","_createVNode","_component_router_link","to","_createElementVNode","_toDisplayString","text","name","props","data","dockerList","__exports__","render","_hoisted_2","$setup","shopName","isCanceled","products","innerItem","innerIndex","src","product","img","totalPrice","totalNumber","_component_Docker","currentIndex","useOrderListEffect","reactive","list","getNearbyList","async","result","get","errno","length","orderList","forEach","order","productItem","orderSales","price","toRefs","components","Docker","setup"],"sourceRoot":""}